import{u as _,r as n,c,w as t,o as b,b as e,f as V}from"./index-5_l7CkRI.js";import{E as k,a as v}from"./el-form-item-C-W3Sof-.js";import{E as x}from"./_plugin-vue_export-helper-CGjAqcjE.js";import{E as U}from"./el-input-D-7gbnS0.js";import{p as w}from"./pageContainer-mrrkNs4A.js";import{a as y}from"./user-CIgd_CsP.js";import"./_baseClone-CqkKz-iw.js";import"./el-scrollbar-CpVWIDw7.js";const P={__name:"userProfile",setup(E){const l=_(),i=async()=>{await l.getUser(),console.log(l.user)},a=n({id:l.user.id,username:l.user.username,nickname:l.user.nickname,email:l.user.email});i();const s=n(null),p={username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=async()=>{await s.value.validate(),await y(a.value),l.getUser()};return(q,r)=>{const u=U,m=k,f=x,g=v;return b(),c(w,{title:"基本资料"},{default:t(()=>[e(g,{model:a.value,rules:p,ref_key:"formRef",ref:s,"label-width":"100px",style:{width:"600px"}},{default:t(()=>[e(m,{label:"登录名称",prop:"username"},{default:t(()=>[e(u,{modelValue:a.value.username,"onUpdate:modelValue":r[0]||(r[0]=o=>a.value.username=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(u,{modelValue:a.value.nickname,"onUpdate:modelValue":r[1]||(r[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(u,{modelValue:a.value.email,"onUpdate:modelValue":r[2]||(r[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(f,{type:"primary",onClick:d},{default:t(()=>r[3]||(r[3]=[V("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{P as default};
