import{u as k,r as p,c as i,w as a,o,b as s,z as y,e as r,f as _,bR as E,E as U,C as b,aS as d,bS as w}from"./index-T3F7Jh6l.js";import{_ as C,E as x}from"./_plugin-vue_export-helper-BsPb1rl_.js";import{E as A}from"./el-progress-B-SJ65dK.js";import{p as R}from"./pageContainer-BhKIblhj.js";/* empty css                 */import"./_baseClone-BzzddaR3.js";import"./isEqual-Vdmn5r_e.js";import"./el-scrollbar-Lezc_uvF.js";const S=["src"],B={__name:"userAvatar",setup(z){const l=k(),t=p(l.user.user_pic),n=p(),f=c=>{t.value=URL.createObjectURL(c.raw)},m=async()=>{await E(t.value),await l.getUser(),U.success("头像更新成功")};return(c,e)=>{const v=b,g=A,u=x;return o(),i(R,{title:"更换头像"},{default:a(()=>[s(g,{class:"avatar-uploader",ref_key:"uploadRef",ref:n,"auto-upload":!1,"show-file-list":!1,"on-change":f},{default:a(()=>[t.value?(o(),y("img",{key:0,src:t.value,class:"avatar"},null,8,S)):(o(),i(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(r(d))]),_:1}))]),_:1},512),s(u,{onClick:e[0]||(e[0]=I=>n.value.$el.querySelector("input").click()),icon:r(d),type:"primary",size:"large"},{default:a(()=>e[1]||(e[1]=[_("选择图片")])),_:1},8,["icon"]),s(u,{onClick:m,icon:r(w),type:"success",size:"large"},{default:a(()=>e[2]||(e[2]=[_("上传图片")])),_:1},8,["icon"])]),_:1})}}},O=C(B,[["__scopeId","data-v-b24a638a"]]);export{O as default};
