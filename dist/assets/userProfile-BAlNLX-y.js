import{u as _,r as n,c,w as t,o as b,b as e,f as V,bJ as k}from"./index-T3F7Jh6l.js";import{E as v,a as x}from"./el-form-item-B_LMvvdl.js";import{E as U}from"./_plugin-vue_export-helper-BsPb1rl_.js";import{E as w}from"./el-input-Ck746CmH.js";import{p as y}from"./pageContainer-BhKIblhj.js";import"./_baseClone-BzzddaR3.js";import"./el-scrollbar-Lezc_uvF.js";const D={__name:"userProfile",setup(E){const l=_(),i=async()=>{await l.getUser(),console.log(l.user)},a=n({id:l.user.id,username:l.user.username,nickname:l.user.nickname,email:l.user.email});i();const s=n(null),p={username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=async()=>{await s.value.validate(),await k(a.value),l.getUser()};return(q,r)=>{const u=w,m=v,f=U,g=x;return b(),c(y,{title:"基本资料"},{default:t(()=>[e(g,{model:a.value,rules:p,ref_key:"formRef",ref:s,"label-width":"100px",style:{width:"600px"}},{default:t(()=>[e(m,{label:"登录名称",prop:"username"},{default:t(()=>[e(u,{modelValue:a.value.username,"onUpdate:modelValue":r[0]||(r[0]=o=>a.value.username=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(u,{modelValue:a.value.nickname,"onUpdate:modelValue":r[1]||(r[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(u,{modelValue:a.value.email,"onUpdate:modelValue":r[2]||(r[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(f,{type:"primary",onClick:d},{default:t(()=>r[3]||(r[3]=[V("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{D as default};
