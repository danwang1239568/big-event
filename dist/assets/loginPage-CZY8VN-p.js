import{r as k,a as E,c as f,o as c,w as s,b as o,d as t,u as n,e as y,f as v,g as b}from"./index-BQXtW-cs.js";import{E as q,a as M}from"./el-col-0he_BpqX.js";import{E as P,a as S}from"./el-form-item-_gCwF2ID.js";import{_ as z,E as A,u as C,l as _}from"./_plugin-vue_export-helper-CPco3PY8.js";import{E as Z}from"./el-checkbox-xAiOJDL4.js";import{E as $}from"./el-input-u01eHhup.js";import{u as j}from"./user-CXpSAx5q.js";import{u as D}from"./user-qo002YjK.js";import{E as T}from"./index-DZ6FzZbT.js";import"./_baseClone-CtrS6i-U.js";import"./isEqual-B-xJJk-z.js";import"./aria-BUADUvnR.js";const G={class:"remenber"},H={__name:"loginPage",setup(J){const d=D();let u=k(0);const g=E({username:[{required:!0,message:"必填",trigger:"change"},{min:6,max:10,message:"6-10位",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"必须为数字和字母",trigger:["blur","change"]}],password:[{required:!0,message:"必填",trigger:"change"},{min:6,max:10,message:"6-10位",trigger:"blur"}],repassword:[{validator:(F,e,m)=>{e!==r.password?m(new Error("两次输入的密码不一致")):m()},trigger:"blur"}]}),r=E({username:"",password:"",repassword:""}),p=k(null),w=()=>{u.value=u.value==0?1:0,p.value.resetFields()},U=async()=>{await p.value.validate(),await j(r),T.success("注册成功"),u.value=0},R=async()=>{await p.value.validate(),d.setToken("tempToken"),d.setUser({username:"danwang",id:1,nickname:"admin",email:"admin@123.com",user_pic:""}),T.success("登录成功"),setTimeout(()=>{setTimeout(()=>{b.replace("/article/channel")},1e3),b.replace("/article/channel")},1e3)},B=async()=>{d.setToken("tempToken")};return(F,e)=>{const m=q,i=$,a=P,N=Z,x=A,V=S,I=M;return c(),f(I,null,{default:s(()=>[o(m,{span:12},{default:s(()=>[t("div",{class:"bg",onClick:B})]),_:1}),o(m,{span:6,push:3},{default:s(()=>[n(u)==0?(c(),f(V,{key:0,class:"form",model:r,ref_key:"formRef",ref:p,rules:g},{default:s(()=>[e[7]||(e[7]=t("h2",null,"登录",-1)),o(a,{class:"ipt",prop:"username"},{default:s(()=>[o(i,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.username=l),"prefix-icon":n(C),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),o(a,{class:"ipt",prop:"password"},{default:s(()=>[o(i,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),"prefix-icon":n(_),placeholder:"请输入密码",type:"password"},null,8,["modelValue","prefix-icon"])]),_:1}),o(a,null,{default:s(()=>[t("div",G,[o(N,{label:"记住我"}),e[5]||(e[5]=t("p",null,"忘记密码",-1))])]),_:1}),o(a,null,{default:s(()=>[o(x,{onClick:R,class:"btn",type:"primary"},{default:s(()=>e[6]||(e[6]=[y("登录")])),_:1})]),_:1}),t("p",{onClick:w},"注册→")]),_:1},8,["model","rules"])):v("",!0),n(u)==1?(c(),f(V,{key:1,class:"form",model:r,ref_key:"formRef",ref:p,rules:g},{default:s(()=>[e[9]||(e[9]=t("h2",null,"注册",-1)),o(a,{class:"ipt",prop:"username"},{default:s(()=>[o(i,{modelValue:r.username,"onUpdate:modelValue":e[2]||(e[2]=l=>r.username=l),"prefix-icon":n(C),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),o(a,{class:"ipt",prop:"password"},{default:s(()=>[o(i,{modelValue:r.password,"onUpdate:modelValue":e[3]||(e[3]=l=>r.password=l),"prefix-icon":n(_),placeholder:"请输入密码",type:"password"},null,8,["modelValue","prefix-icon"])]),_:1}),o(a,{prop:"repassword"},{default:s(()=>[o(i,{modelValue:r.repassword,"onUpdate:modelValue":e[4]||(e[4]=l=>r.repassword=l),"prefix-icon":n(_),placeholder:"请再次输入密码",type:"password"},null,8,["modelValue","prefix-icon"])]),_:1}),o(a,null,{default:s(()=>[o(x,{class:"btn",type:"primary",onClick:U},{default:s(()=>e[8]||(e[8]=[y("注册")])),_:1})]),_:1}),t("p",{onClick:w},"←返回")]),_:1},8,["model","rules"])):v("",!0)]),_:1})]),_:1})}}},le=z(H,[["__scopeId","data-v-9a27464e"]]);export{le as default};
