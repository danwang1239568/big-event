import{r as p,c as i,w as a,o as s,b as t,q as k,u as r,e as _}from"./index-BQXtW-cs.js";import{_ as y,a as E,E as U,M as f,aa as w}from"./_plugin-vue_export-helper-CPco3PY8.js";import{E as x}from"./el-progress-DoBup58w.js";import{p as C}from"./pageContainer-CzrhM6XI.js";/* empty css                 */import{E as A}from"./index-DZ6FzZbT.js";import{u as B}from"./user-qo002YjK.js";import"./_baseClone-CtrS6i-U.js";import"./isEqual-B-xJJk-z.js";import"./el-scrollbar-BeyBPBe9.js";import"./aria-BUADUvnR.js";const R=["src"],b={__name:"userAvatar",setup(S){const l=B(),o=p(l.user.user_pic),n=p(),m=c=>{o.value=URL.createObjectURL(c.raw)},d=async()=>{await l.getUser(),A.success("头像更新成功")};return(c,e)=>{const v=E,g=x,u=U;return s(),i(C,{title:"更换头像"},{default:a(()=>[t(g,{class:"avatar-uploader",ref_key:"uploadRef",ref:n,"auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[o.value?(s(),k("img",{key:0,src:o.value,class:"avatar"},null,8,R)):(s(),i(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[t(r(f))]),_:1}))]),_:1},512),t(u,{onClick:e[0]||(e[0]=q=>n.value.$el.querySelector("input").click()),icon:r(f),type:"primary",size:"large"},{default:a(()=>e[1]||(e[1]=[_("选择图片")])),_:1},8,["icon"]),t(u,{onClick:d,icon:r(w),type:"success",size:"large"},{default:a(()=>e[2]||(e[2]=[_("上传图片")])),_:1},8,["icon"])]),_:1})}}},D=y(b,[["__scopeId","data-v-ae8a19fc"]]);export{D as default};
