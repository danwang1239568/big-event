import{r as n,c as _,w as t,o as c,b as e,e as b}from"./index-BQXtW-cs.js";import{E as V,a as k}from"./el-form-item-_gCwF2ID.js";import{E as v}from"./_plugin-vue_export-helper-CPco3PY8.js";import{E as x}from"./el-input-u01eHhup.js";import{p as U}from"./pageContainer-CzrhM6XI.js";import{a as w}from"./user-CXpSAx5q.js";import{u as y}from"./user-qo002YjK.js";import"./_baseClone-CtrS6i-U.js";import"./el-scrollbar-BeyBPBe9.js";const T={__name:"userProfile",setup(E){const l=y(),i=async()=>{await l.getUser(),console.log(l.user)},r=n({id:l.user.id,username:l.user.username,nickname:l.user.nickname,email:l.user.email});i();const s=n(null),p={username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=async()=>{await s.value.validate(),await w(r.value),l.getUser()};return(q,a)=>{const u=x,m=V,f=v,g=k;return c(),_(U,{title:"基本资料"},{default:t(()=>[e(g,{model:r.value,rules:p,ref_key:"formRef",ref:s,"label-width":"100px",style:{width:"600px"}},{default:t(()=>[e(m,{label:"登录名称",prop:"username"},{default:t(()=>[e(u,{modelValue:r.value.username,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value.username=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(u,{modelValue:r.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(u,{modelValue:r.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>r.value.email=o)},null,8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(f,{type:"primary",onClick:d},{default:t(()=>a[3]||(a[3]=[b("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{T as default};
